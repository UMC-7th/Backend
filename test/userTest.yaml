config:
    target: "http://localhost:3000/api/v1"
    phases:
        - duration: 1
          arrivalRate: 30

before:
    flow:
        - log: "Get auth token"
        - post:
              url: "/users/login"
              json:
                  email: "test@gmail.com"
                  password: "password123"
              capture:
                  json: "$.success.accessToken"
                  as: "token"
scenarios:
    - flow:
          # # 프로필 조회
          # - get:
          #       url: "/users/mypage/profile"
          #       headers:
          #           authorization: "Bearer {{ token }}"
          #       capture:
          #           json: "$"
          #           as: "response"

          # # 목표 조회
          # - get:
          #       url: "/users/mypage/goal"
          #       headers:
          #           authorization: "Bearer {{ token }}"
          #       capture:
          #           json: "$"
          #           as: "response"
          
          # # 건강 점수 조회
          # - get:
          #       url: "/users/mypage/healthscore"
          #       headers:
          #           authorization: "Bearer {{ token }}"
          #       capture:
          #           json: "$"
          #           as: "response"
          
          # # 진단 결과 조회(gpt를 다중 호출하기 때문에 테스트 X)
          # - get:
          #       url: "/users/mypage/result"
          #       headers:
          #           authorization: "Bearer {{ token }}"
          #       capture:
          #           json: "$"
          #           as: "response"
